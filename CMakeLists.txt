PROJECT(superkaramba)

macro_optional_find_package(PythonLibs)
macro_optional_find_package(Plasma)

if(PYTHON_LIBRARIES AND PYTHON_INCLUDE_PATH)
  SET(COMPILE_SUPERKARAMBA_WITH_PYTHON ON)
endif(PYTHON_LIBRARIES AND PYTHON_INCLUDE_PATH)
macro_log_feature(COMPILE_SUPERKARAMBA_WITH_PYTHON "Python Libraries" "The Python library is required to build the legacy SuperKaramba bindings for Python" "http://www.python.org")

INCLUDE_DIRECTORIES(
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_CURRENT_BINARY_DIR}
  ${QT_INCLUDES}
  ${KDE4_INCLUDE_DIR}
)

if(COMPILE_SUPERKARAMBA_WITH_PYTHON)
  INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_PATH})
endif(COMPILE_SUPERKARAMBA_WITH_PYTHON)

ADD_SUBDIRECTORY( src )
ADD_SUBDIRECTORY( icons )

if(PLASMA_FOUND)
  ADD_SUBDIRECTORY( skapplet )
endif(PLASMA_FOUND)
